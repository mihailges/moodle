define(["jquery","core/notification","block_starredcourses/repository","core/pubsub","core/templates","core_course/events"],function(a,b,c,d,e,f){var g={BLOCK_CONTAINER:'[data-region="starred-courses"]',STARRED_COURSES_REGION_VIEW:'[data-region="starred-courses-view"]',STARRED_COURSES_REGION:'[data-region="starred-courses-view-content"]'},h=function(a,b){if(b.length>0)return e.render("core_course/view-cards",{courses:b});var c=a.find(g.STARRED_COURSES_REGION_VIEW).attr("data-nocoursesimg");return e.render("block_starredcourses/no-courses",{nocoursesimg:c})},i=function(d){var f=d.find(g.STARRED_COURSES_REGION),i={limit:0,offset:0};return c.getStarredCourses(i).then(function(b){var c=a(g.BLOCK_CONTAINER).data("displaycoursecategory");return b=b.map(function(a){return a.showcoursecategory=c,a}),h(d,b)}).then(function(a,b){return e.replaceNodeContents(f,a,b)})["catch"](b.exception)},j=function(a){d.subscribe(f.favourited,function(){i(a)}),d.subscribe(f.unfavorited,function(){i(a)})},k=function(b){b=a(b),j(b),i(b)};return{init:k}});