define ("core_course/modchooser",["core/yui","jquery","core/activity_chooser_dialogue"],function(a,b,c){var d={PAGECONTENT:"body",SECTION:null,SECTIONMODCHOOSER:"span.section-modchooser-link",SITEMENU:".block_site_main_menu",SITETOPIC:"div.sitetopic"},f=null,g=function(a){if(b(a.currentTarget).parents(d.SITETOPIC).length){f=1}else if(b(a.currentTarget).parents(d.SECTION).length){var e=b(a.currentTarget).parents(d.SECTION);f=e.attr("id").replace("section-","")}else if(b(a.currentTarget).parents(d.SITEMENU).length){f=0}c.displayChooser(a,f)},h=function(a){var c=b(a).find(d.SECTIONMODCHOOSER);if(!c.length){return}b(c).children().wrapAll("<a href='#' class='chooser-link' />");b(".chooser-link").on("click",function(a){a.preventDefault();g(a)})},i=function(a){if(!a){a=d.PAGECONTENT}b(a).find(d.SITETOPIC).each(function(){h(this)});if(d.SECTION){b(a).find(d.SECTION).each(function(){h(this)})}b(a).find(d.SITEMENU).each(function(){h(this)});b(".testtt").on("click",function(a){a.preventDefault();g(a)})};return{init:function initializer(){a.use("moodle-course-coursebase",function(){var a=M.course.format.get_sectionwrapperclass();if(a){d.SECTION="."+a}var e=b(".chooserdialoguebody"),f=b(".choosertitle");c.setupChooserDialogue(e,f,{});i()})}}});
//# sourceMappingURL=modchooser.min.js.map
