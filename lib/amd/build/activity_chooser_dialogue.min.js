define ("core/activity_chooser_dialogue",["core/yui","jquery","core/pubsub","core/activity_chooser_events","core/local/aria/focuslock","core/modal_factory"],function(a,b,c,d,e,f){var g=null,h=null,i=null,j=[],k=null,l=null,m={minheight:300,baseheight:400,maxheight:660,closeButtonTitle:{validator:a.Lang.isString,value:"Close"}},n=function(){var a;while(j.length){a=j.shift();b(a).off()}},o=function(){n();h.off();g.hide()},p=function(a){a.preventDefault();o()},q=function(){return f.create({type:f.types.DEFAULT,body:k.html(),title:l.html(),large:!0}).then(function(a){a.show();return a})},r=function(a){var c=g.get("boundingBox"),d=c.get("winHeight"),e,f;if(g.shouldResizeFullscreen()){return}e=m.maxheight;if(d<=e){if(d<=m.minheight){e=m.minheight}else{e=d}}if(e>m.minheight){if(g.lockScroll&&!g.lockScroll.isActive()){g.lockScroll.enableScrollLock(!0)}}else{if(g.lockScroll&&g.lockScroll.isActive()){g.lockScroll.disableScrollLock()}}f=e;e=e-110;b(a).css("maxHeight",e+"px");var h=c.getStyle("height");if(h.match(/.*px$/)){h=h.replace(/px$/,"")}else{h=f}if(h<m.baseheight){h=m.baseheight;b(a).css("height",h+"px")}g.centerDialogue()},s=function(a,b){null.attr({value:b,name:a})},t=function(a){s(a.name,a.value);c.publish(d.OPTION_SELECTED,a)},u=function(a){var c=b(".alloptions").scrollTop(),d=b(".alloptions").outerHeight();b(".alloptions").addClass("noscroll");v(a,c,d);var f=a.find(".content");if(0<f.scrollTop()){f.scrollTop(0)}a.addClass("open");var g=a.find(".closetypesummary"),h=a.find(".addbutton");b(g).attr("tabindex",0);b(h).attr("tabindex",0);e.trapFocus(a)},v=function(a,b,c){var d=a.find(".content"),e=a.find(".action-footer"),f=e.height();d.css({height:c-f+"px"});a.css({top:b+"px",height:c+"px"})},w=function(a,c){b(c).attr("tabindex",0);b(c).focus();b(a).attr("tabindex",-1)};return{setupChooserDialogue:function setupChooserDialogue(a,b){k=a;l=b},displayChooser:function displayChooser(a,b){var c,d;q();a.preventDefault();g.show();var e=c.find(".option .modicon a, .option .typesummary .action-footer .addbutton")},updateHiddenRadioValue:s}});
//# sourceMappingURL=activity_chooser_dialogue.min.js.map
