define ("report_insights/actions",["jquery","core/str","core/ajax","core/notification","core/url","core/modal_factory","core/modal_events","report_insights/insights"],function(a,b,c,d,e,f,g,h){return{initBulk:function initBulk(i){var j=function(b,f){return c.call([{methodname:"report_insights_action_executed",args:{predictionids:b,actionname:f}}])[0].then(function(){var c=!1;b.forEach(function(b){var d=a("tr[data-prediction-id=\""+b+"\"]");if(!d.length){return}if(!1===c){c=d.closest("table")}d.remove()});if(0===c.find("tbody > tr").length){var d={contextid:c.closest("div.insight-container").data("context-id"),modelid:c.closest("div.insight-container").data("model-id")};window.location.assign(e.relativeUrl("report/insights/insights.php",d,!1))}}).catch(d.exception)};a(i+" [data-bulk-actionname]").on("click",function(c){c.preventDefault();var e=a(c.currentTarget),i=e.data("bulk-actionname"),k=e.text().trim(),l=h.getSelectedPredictions();if(l===void 0||0===l.length){return this}var m=[];b.get_strings([{key:"confirmbulkaction",component:"report_insights",param:{action:k,nitems:l.length}},{key:"confirm",component:"moodle"}]).then(function(a){m=a;return f.create({type:f.types.SAVE_CANCEL,title:k,body:m[0]})}).then(function(a){a.setSaveButtonText(m[1]);a.show();a.getRoot().on(g.save,function(){return j(l,i)});return a}).catch(d.exception);return this})}}});
//# sourceMappingURL=actions.min.js.map
